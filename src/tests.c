#include <check.h>
#include <math.h>
#include <stdlib.h>

#include "s21_decimal.h"

#define NUMBER_OF_FUNCS 4

START_TEST(test_negate) {
  static s21_decimal arr[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal result[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x80070000}},

      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x00060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}}};
  for (size_t i = 0; i < sizeof(arr) / sizeof(s21_decimal); ++i) {
    s21_decimal tmp;
    int ret = s21_negate(arr[i], &tmp);
    ck_assert_int_eq(result[i].bits[0], tmp.bits[0]);
    ck_assert_int_eq(result[i].bits[1], tmp.bits[1]);
    ck_assert_int_eq(result[i].bits[2], tmp.bits[2]);
    ck_assert_int_eq(result[i].bits[3], tmp.bits[3]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_truncate) {
  static s21_decimal arr[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x075BCD15, 0x00000000, 0x00000000, 0x00120000}},

      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x001C0000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}}};
  static s21_decimal result[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00214ABD, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000007, 0x00000000, 0x00000000, 0x00000000}},
      {{0x8178F63A, 0x00000000, 0x00000000, 0x00000000}}};
  for (size_t i = 0; i < sizeof(arr) / sizeof(s21_decimal); ++i) {
    s21_decimal value = arr[i];
    s21_decimal tmp;
    int ret = s21_truncate(value, &tmp);
    ck_assert_int_eq(result[i].bits[0], tmp.bits[0]);
    ck_assert_int_eq(result[i].bits[1], tmp.bits[1]);
    ck_assert_int_eq(result[i].bits[2], tmp.bits[2]);
    ck_assert_int_eq(result[i].bits[3], tmp.bits[3]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_floor) {
  static s21_decimal arr[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x075BCD15, 0x00000000, 0x00000000, 0x00120000}},
      {{0x075BCD15, 0x00000000, 0x00000000, 0x80120000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x001C0000}}};
  static s21_decimal result[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0x8178F63A, 0x00000000, 0x00000000, 0x00000000}},
      {{0x214ABE, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000007, 0x00000000, 0x00000000, 0x00000000}},
  };
  for (size_t i = 0; i < sizeof(arr) / sizeof(s21_decimal); ++i) {
    s21_decimal value = arr[i];
    s21_decimal tmp;
    int ret = s21_floor(value, &tmp);
    ck_assert_int_eq(result[i].bits[0], tmp.bits[0]);
    ck_assert_int_eq(result[i].bits[1], tmp.bits[1]);
    ck_assert_int_eq(result[i].bits[2], tmp.bits[2]);
    ck_assert_int_eq(result[i].bits[3], tmp.bits[3]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_round) {
  static s21_decimal arr[] = {
      {{0x0000009B, 0x00000000, 0x00000000, 0x00010000}},
      {{0x1FC40A5F, 0xA98FD4BE, 0x00000000, 0x00020000}},
      {{0x1FC40A5D, 0xA98FD4BE, 0x00000000, 0x00020000}},
      {{0x1FC40A5F, 0xA98FD4BE, 0x00000000, 0x80020000}},
      {{0x1FC40A5D, 0xA98FD4BE, 0x00000000, 0x80020000}},
      {{0xFFFFFFFF, 0x00000000, 0x00000000, 0x00060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0x00000000, 0x00050000}},
  };
  static s21_decimal result[] = {
      {{0x00000010, 0x00000000, 0x00000000, 0x0000000}},
      {{0x24285C44, 0x01B2140C, 0x00000000, 0x00000000}},
      {{0x24285C43, 0x01B2140C, 0x00000000, 0x00000000}},
      {{0x24285C44, 0x01B2140C, 0x00000000, 0x80000000}},

      {{0x24285C43, 0x01B2140C, 0x00000000, 0x80000000}},

      {{0x000010C7, 0x00000000, 0x00000000, 0x00000000}},
      {{0xAC471B48, 0x0000A7C5, 0x00000000, 0x00000000}},
  };
  for (size_t i = 0; i < sizeof(arr) / sizeof(s21_decimal); ++i) {
    s21_decimal value = arr[i];
    s21_decimal tmp;
    int ret = s21_round(value, &tmp);
    ck_assert_int_eq(result[i].bits[0], tmp.bits[0]);
    ck_assert_int_eq(result[i].bits[1], tmp.bits[1]);
    ck_assert_int_eq(result[i].bits[2], tmp.bits[2]);
    ck_assert_int_eq(result[i].bits[3], tmp.bits[3]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_is_equal_true) {
  static s21_decimal arr1[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x80020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  for (size_t i = 0; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_equal(arr1[i], arr2[i]);

    ck_assert_int_eq(ret, 1);
  }
}
END_TEST

START_TEST(test_is_equal_false) {
  static s21_decimal arr1[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
  };
  for (size_t i = 3; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_equal(arr1[i], arr2[i]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_is_not_equal_false) {
  static s21_decimal arr1[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x80020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  for (size_t i = 0; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_not_equal(arr1[i], arr2[i]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_is_not_equal_true) {
  static s21_decimal arr1[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
  };
  for (size_t i = 0; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_not_equal(arr1[i], arr2[i]);
    ck_assert_int_eq(ret, 1);
  }
}
END_TEST

START_TEST(test_is_less_true) {
  static s21_decimal arr1[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0x00000001, 0x00000000, 0x00000000, 0x00090000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00020000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000009, 0x00000000, 0x00000000, 0x80010000}},
      {{0xCF5C048D, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA1, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  for (size_t i = 0; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_less(arr1[i], arr2[i]);

    ck_assert_int_eq(ret, 1);
  }
}
END_TEST

START_TEST(test_is_less_false) {
  static s21_decimal arr1[] = {
      {{0x00000001, 0x00000000, 0x00000000, 0x00090000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00020000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000009, 0x00000000, 0x00000000, 0x80010000}},
      {{0xCF5C048D, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA1, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  for (size_t i = 0; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_less(arr1[i], arr2[i]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_is_less_or_equal_true) {
  static s21_decimal arr1[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0x00000001, 0x00000000, 0x00000000, 0x00090000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00020000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000009, 0x00000000, 0x00000000, 0x80010000}},
      {{0xCF5C048D, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA1, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  for (size_t i = 0; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_less_or_equal(arr1[i], arr2[i]);
    ck_assert_int_eq(ret, 1);
  }
}
END_TEST

START_TEST(test_is_less_or_equal_false) {
  static s21_decimal arr1[] = {
      {{0x00000001, 0x00000000, 0x00000000, 0x00090000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00020000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000009, 0x00000000, 0x00000000, 0x80010000}},
      {{0xCF5C048D, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA1, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  for (size_t i = 0; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_less_or_equal(arr1[i], arr2[i]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_is_greater_true) {
  static s21_decimal arr1[] = {
      {{0x00000001, 0x00000000, 0x00000000, 0x00090000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00020000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000009, 0x00000000, 0x00000000, 0x80010000}},
      {{0xCF5C048D, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA1, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  for (size_t i = 0; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_greater(arr1[i], arr2[i]);
    ck_assert_int_eq(ret, 1);
  }
}
END_TEST

START_TEST(test_is_greater_false) {
  static s21_decimal arr1[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0x00000001, 0x00000000, 0x00000000, 0x00090000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00020000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000009, 0x00000000, 0x00000000, 0x80010000}},
      {{0xCF5C048D, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA1, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  for (size_t i = 0; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_greater(arr1[i], arr2[i]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_is_greater_or_equal_true) {
  static s21_decimal arr1[] = {
      {{0x00000001, 0x00000000, 0x00000000, 0x00090000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00020000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000009, 0x00000000, 0x00000000, 0x80010000}},
      {{0xCF5C048D, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA1, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  for (size_t i = 0; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_greater_or_equal(arr1[i], arr2[i]);
    ck_assert_int_eq(ret, 1);
  }
}
END_TEST

START_TEST(test_is_greater_or_equal_false) {
  static s21_decimal arr1[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0xCF5C048C, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA2, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  static s21_decimal arr2[] = {
      {{0x00000001, 0x00000000, 0x00000000, 0x00090000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00020000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000009, 0x00000000, 0x00000000, 0x80010000}},
      {{0xCF5C048D, 0x004D2BEF, 0x00000000, 0x00070000}},
      {{0xFEADBDA1, 0x000001FB, 0x00000000, 0x80060000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}}};
  for (size_t i = 0; i < sizeof(arr1) / sizeof(s21_decimal); ++i) {
    int ret = s21_is_greater_or_equal(arr1[i], arr2[i]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_int_to_decimal) {
  static int src[] = {0,     -1,     1,        -2,         2,
                      32767, -32767, -9999999, 2147483647, -2147483648};
  static s21_decimal res[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000002, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000002, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00007FFF, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00007FFF, 0x00000000, 0x00000000, 0x80000000}},
      {{0x0098967F, 0x00000000, 0x00000000, 0x80000000}},
      {{0x7FFFFFFF, 0x00000000, 0x00000000, 0x00000000}},
      {{0x80000000, 0x00000000, 0x00000000, 0x80000000}}};
  for (size_t i = 0; i < sizeof(res) / sizeof(s21_decimal); ++i) {
    s21_decimal tmp;
    int ret = s21_from_int_to_decimal(src[i], &tmp);
    ck_assert_int_eq(tmp.bits[0], res[i].bits[0]);
    ck_assert_int_eq(tmp.bits[1], res[i].bits[1]);
    ck_assert_int_eq(tmp.bits[2], res[i].bits[2]);
    ck_assert_int_eq(tmp.bits[3], res[i].bits[3]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_decimal_to_int_success) {
  static int res[] = {0,        -1,         1,           -2,  2, 32767, -32767,
                      -9999999, 2147483647, -2147483647, 123, 1, -15};
  static s21_decimal src[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000002, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000002, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00007FFF, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00007FFF, 0x00000000, 0x00000000, 0x80000000}},
      {{0x0098967F, 0x00000000, 0x00000000, 0x80000000}},
      {{0x7FFFFFFF, 0x00000000, 0x00000000, 0x00000000}},
      {{0x7FFFFFFF, 0x00000000, 0x00000000, 0x80000000}},
      {{0x0001E078, 0x00000000, 0x00000000, 0x00030000}},
      {{0x00000457, 0x00000000, 0x00000000, 0x00030000}},
      {{0x0000060F, 0x00000000, 0x00000000, 0x80020000}}};
  for (size_t i = 0; i < sizeof(src) / sizeof(s21_decimal); ++i) {
    int tmp;
    int ret = s21_from_decimal_to_int(src[i], &tmp);
    ck_assert_int_eq(tmp, res[i]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_decimal_to_int_fail) {
  static s21_decimal src[] = {
      {{0x00002F59, 0x0CA55839, 0x00000000, 0x00000000}},
      {{0x000004C2, 0x01518D64, 0x00000000, 0x80000000}},
      {{0xFFFFFFFF, 0x000003E7, 0x00000000, 0x00030000}},
      {{0x00000000, 0x00000001, 0x00000000, 0x00000000}},
      {{0x00000000, 0x00000001, 0x00000000, 0x80000000}},
  };
  for (size_t i = 0; i < sizeof(src) / sizeof(s21_decimal); ++i) {
    int tmp;
    int ret = s21_from_decimal_to_int(src[i], &tmp);
    ck_assert_int_eq(ret, 1);
  }
}
END_TEST

START_TEST(test_float_to_decimal_success) {
  static float src[] = {
      0.f,
      1E-28f,
      1.00000003E-27f,
      1.19999996E-27f,
      1.50000004E-27f,
      1.89999999E-27f,
      9.99999989E-27f,
      1.23000001E-26f,
      1.50999995E-26f,
      1.89999999E-26f,
      1.00000002E-25f,
      1.23699997E-25f,
      1.51899999E-25f,
      1.90599999E-25f,
      1.00000002E-24f,
      2.21370009E-24f,
      7.51489961E-24f,
      4.91059997E-24f,
      1E-23f,
      2.21370005E-23f,
      7.51148999E-23f,
      4.94105994E-23f,
      1.10000002E-22f,
      2.21327006E-22f,
      7.51419017E-22f,
      4.91095979E-22f,
      1.09999997E-21f,
      2.21369991E-21f,
      7.51490032E-21f,
      4.91060012E-21f,
      1.09999997E-20f,
      2.21369995E-20f,
      7.51490032E-20f,
      4.91060003E-20f,
      1.10000003E-19f,
      2.21369998E-19f,
      7.51490019E-19f,
      4.9106001E-19f,
      1.09999998E-18f,
      2.21369993E-18f,
      7.5149003E-18f,
      4.91059989E-18f,
      1.1E-17f,
      2.21369993E-17f,
      7.51490013E-17f,
      4.91060006E-17f,
      1.1E-16f,
      2.21369996E-16f,
      7.51490013E-16f,
      4.91059993E-16f,
      1.09999997E-15f,
      2.21370007E-15f,
      7.51490002E-15f,
      4.91059982E-15f,
      1.10000001E-14f,
      2.21369994E-14f,
      7.51490002E-14f,
      4.91059999E-14f,
      1.10000001E-13f,
      2.21370001E-13f,
      7.51490016E-13f,
      4.91059992E-13f,
      1.09999997E-12f,
      2.21369993E-12f,
      7.51490016E-12f,
      4.91060014E-12f,
      1.10000004E-11f,
      2.21370006E-11f,
      7.51489981E-11f,
      4.91060005E-11f,
      1.10000002E-10f,
      2.21370006E-10f,
      7.51489981E-10f,
      4.91060026E-10f,
      1.09999998E-09f,
      2.21369989E-09f,
      7.51489981E-09f,
      4.91059993E-09f,
      1.1E-08f,
      2.21369998E-08f,
      7.51490035E-08f,
      4.91059993E-08f,
      1.10000002E-07f,
      2.21370001E-07f,
      7.51490006E-07f,
      4.91060007E-07f,
      1.09999996E-06f,
      2.2137001E-06f,
      7.51490006E-06f,
      4.91060018E-06f,
      1.10000001E-05f,
      2.21369992E-05f,
      7.51490006E-05f,
      4.91059982E-05f,
      0.000110000001f,
      0.000221370006f,
      0.000751490006f,
      0.000491060026f,
      0.00109999999f,
      0.00221369998f,
      0.00751490006f,
      0.00491059991f,
      0.0109999999f,
      0.0221369993f,
      0.0751489997f,
      0.0491060019f,
      0.109999999f,
      0.221369997f,
      0.751489997f,
      0.491059989f,
      1.00999999f,
      1.00730002f,
      1.100281f,
      1.83182812f,
      2.38182998f,
      -1.f,
      1.f,
      -2.f,
      2.f,
      -3.f,
      3.f,
      -10.f,
      10.f,
      -128.f,
      127.f,
      255.f,
      -32768.f,
      32767.f,
      -32767.f,
      137.f,
      342.f,
      -32860.f,
      33223.f,
      56210.f,
      -65535.f,
      65535.f,
      212818288.f,
      -2818281.f,
      -2147483650.f,
      100.f,
      1782.f,
      -821821.f,
      218128.f,
      9999.f,
      -9999999.f,
      2147483650.f,
      -2147483650.f,
      0.120010003f,
      0.465000004f,
      0.0465000011f,
      4.65000012E-05f,
      0.999999881f,
      16253.0186f,
      1E-28f,
      -9999999440000000000000000000.f,
      12345678.f,
      1234567.5f,
      1234567.88f,
      -0.00167000003f,
      19.9999981f,
      -0.923458755f,
      70172132300000000000000000000.f,
      7211721240000000000000000000.f,
      734172150000000000000000000.f,
      74172130500000000000000000.f,
      7517213080000000000000000.f,
      761721331000000000000000.f,
      72172129600000000000000.f,
      7312172140000000000000.f,
      774721734000000000000.f,
      74231170200000000000.f,
      7858172220000000000.f,
      718667188000000000.f,
      71729664700000000.f,
      7172868650000000.f,
      717212092000000.f,
  };
  static s21_decimal res[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x001B0000}},
      {{0x0000000C, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x0000000F, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x00000013, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x001A0000}},
      {{0x0000007B, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x00000097, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x00000013, 0x00000000, 0x00000000, 0x001B0000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00190000}},
      {{0x000004D5, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x000005EF, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x00000772, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00180000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00170000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x001B0000}},
      {{0x000B762D, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x00078A1A, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00170000}},
      {{0x0003608F, 0x00000000, 0x00000000, 0x001B0000}},
      {{0x000B773B, 0x00000000, 0x00000000, 0x001B0000}},
      {{0x00077E58, 0x00000000, 0x00000000, 0x001B0000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00160000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00190000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00190000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00190000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00150000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00180000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00180000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00180000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00140000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00170000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00170000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00170000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00130000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00160000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00160000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00160000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00120000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00150000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00150000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00150000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00110000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00140000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00140000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00140000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00100000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00130000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00130000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00130000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x000F0000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00120000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00120000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00120000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x000E0000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00110000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00110000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00110000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x000D0000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00100000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00100000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00100000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x000C0000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x000F0000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x000F0000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x000F0000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x000B0000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x000E0000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x000E0000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x000E0000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x000A0000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x000D0000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x000D0000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x000D0000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00090000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x000C0000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x000C0000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x000C0000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00080000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x000B0000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x000B0000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x000B0000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00070000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x000A0000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x000A0000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x000A0000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00060000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00090000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00090000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00090000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00050000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00080000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00080000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00080000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00040000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00070000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00070000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00070000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00030000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00060000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00060000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00060000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00005679, 0x00000000, 0x00000000, 0x00050000}},
      {{0x0001258D, 0x00000000, 0x00000000, 0x00050000}},
      {{0x0000BFD2, 0x00000000, 0x00000000, 0x00050000}},
      {{0x00000065, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00002759, 0x00000000, 0x00000000, 0x00040000}},
      {{0x0010C9F9, 0x00000000, 0x00000000, 0x00060000}},
      {{0x001BF394, 0x00000000, 0x00000000, 0x00060000}},
      {{0x0003A267, 0x00000000, 0x00000000, 0x00050000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000002, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000002, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000003, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000003, 0x00000000, 0x00000000, 0x00000000}},
      {{0x0000000A, 0x00000000, 0x00000000, 0x80000000}},
      {{0x0000000A, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000080, 0x00000000, 0x00000000, 0x80000000}},
      {{0x0000007F, 0x00000000, 0x00000000, 0x00000000}},
      {{0x000000FF, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00008000, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00007FFF, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00007FFF, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000089, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000156, 0x00000000, 0x00000000, 0x00000000}},
      {{0x0000805C, 0x00000000, 0x00000000, 0x80000000}},
      {{0x000081C7, 0x00000000, 0x00000000, 0x00000000}},
      {{0x0000DB92, 0x00000000, 0x00000000, 0x00000000}},
      {{0x0000FFFF, 0x00000000, 0x00000000, 0x80000000}},
      {{0x0000FFFF, 0x00000000, 0x00000000, 0x00000000}},
      {{0x0CAF597C, 0x00000000, 0x00000000, 0x00000000}},
      {{0x002B00E9, 0x00000000, 0x00000000, 0x80000000}},
      {{0x80000160, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000064, 0x00000000, 0x00000000, 0x00000000}},
      {{0x000006F6, 0x00000000, 0x00000000, 0x00000000}},
      {{0x000C8A3D, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00035410, 0x00000000, 0x00000000, 0x00000000}},
      {{0x0000270F, 0x00000000, 0x00000000, 0x00000000}},
      {{0x0098967F, 0x00000000, 0x00000000, 0x80000000}},
      {{0x80000160, 0x00000000, 0x00000000, 0x00000000}},
      {{0x80000160, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00002EE1, 0x00000000, 0x00000000, 0x00050000}},
      {{0x000001D1, 0x00000000, 0x00000000, 0x00030000}},
      {{0x000001D1, 0x00000000, 0x00000000, 0x00040000}},
      {{0x000001D1, 0x00000000, 0x00000000, 0x00070000}},
      {{0x0098967F, 0x00000000, 0x00000000, 0x00070000}},
      {{0x0018CCD6, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x31600000, 0x085B549B, 0x204FCE28, 0x80000000}},
      {{0x00BC6150, 0x00000000, 0x00000000, 0x00000000}},
      {{0x0012D688, 0x00000000, 0x00000000, 0x00000000}},
      {{0x0012D688, 0x00000000, 0x00000000, 0x00000000}},
      {{0x000000A7, 0x00000000, 0x00000000, 0x80050000}},
      {{0x00000014, 0x00000000, 0x00000000, 0x00000000}},
      {{0x008CE89C, 0x00000000, 0x00000000, 0x80070000}},
      {{0xA9400000, 0xB25EFECA, 0xE2BD0685, 0x00000000}},
      {{0x0BA00000, 0xC728D3CE, 0x174D6552, 0x00000000}},
      {{0x94900000, 0x4A37B072, 0x025F4AFD, 0x00000000}},
      {{0x1E480000, 0x3964C4DD, 0x003D5A8F, 0x00000000}},
      {{0x46540000, 0xEEEB8E94, 0x000637D4, 0x00000000}},
      {{0x52E20000, 0xFE91F196, 0x0000A14C, 0x00000000}},
      {{0xC0FD0000, 0x75817AAA, 0x00000F48, 0x00000000}},
      {{0xCD9E0000, 0x64C57C73, 0x0000018C, 0x00000000}},
      {{0x9EBE4000, 0xFF6C617F, 0x00000029, 0x00000000}},
      {{0x47A22000, 0x062A17D2, 0x00000004, 0x00000000}},
      {{0xB3EBC000, 0x6D0DD5CC, 0x00000000, 0x00000000}},
      {{0xBFB98000, 0x09F93802, 0x00000000, 0x00000000}},
      {{0xE828D800, 0x00FED5BE, 0x00000000, 0x00000000}},
      {{0xB4C3F200, 0x00197BAF, 0x00000000, 0x00000000}},
      {{0xF472F900, 0x00028C4C, 0x00000000, 0x00000000}},
  };

  for (size_t i = 0; i < sizeof(src) / sizeof(float); ++i) {
    s21_decimal tmp;
    s21_set_decimal_to_zero(&tmp);
    int ret = s21_from_float_to_decimal(src[i], &tmp);

    ck_assert_int_eq(tmp.bits[0], res[i].bits[0]);
    ck_assert_int_eq(tmp.bits[1], res[i].bits[1]);
    ck_assert_int_eq(tmp.bits[2], res[i].bits[2]);
    ck_assert_int_eq(tmp.bits[3], res[i].bits[3]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

static float src_err[] = {-INFINITY,      INFINITY,        -FLT_MAX,
                          FLT_MAX,        1.0e-29,         -1.763e-29f,
                          nan(""),        -nan(""),        powf(2.0, 96),
                          -powf(2.0, 96), powf(1.99, 110), -powf(1.99, 110)};

START_TEST(error_test) {
  for (size_t i = 0; i < sizeof(src_err) / sizeof(float); ++i) {
    s21_decimal tmp;
    int ret = s21_from_float_to_decimal(src_err[i], &tmp);
    ck_assert_int_eq(ret, 1);
  }
}
END_TEST

START_TEST(test_decimal_to_float) {
  static s21_decimal src[] = {
      {{0x000026B9, 0x00000000, 0x00000000, 0x00030000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80000000}},
      {{0x00000002, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000002, 0x00000000, 0x00000000, 0x80000000}},
      {{0x0000000F, 0x00000000, 0x00000000, 0x00010000}},
      {{0x0000000F, 0x00000000, 0x00000000, 0x80010000}},
      {{0x00000009, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000009, 0x00000000, 0x00000000, 0x80010000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x80010000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00010000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x80010000}},
      {{0x0000000B, 0x00000000, 0x00000000, 0x00010000}},
      {{0x000031DD, 0x00000000, 0x00000000, 0x00030000}},
      {{0x00002F0D, 0x00000000, 0x00000000, 0x80030000}},
      {{0x0001869F, 0x00000000, 0x00000000, 0x00040000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x00000000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0x000000D3, 0x00007C45, 0x00007C57, 0x80080000}},
      {{0x003A6E50, 0x007F1483, 0x003215CF, 0x00020000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x800A0000}},
      {{0xF533512E, 0x0000004B, 0x00000000, 0x00060000}},
      {{0x51A337CD, 0x00000002, 0x00000000, 0x80040000}},
      {{0xDC425734, 0x01C068FA, 0x00000000, 0x00070000}},
      {{0xCC133B70, 0x004D86D4, 0x00000000, 0x000B0000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00140000}},
  };

  static float res[] = {
      9.91300011f,
      0.f,
      1.f,
      -1.f,
      2.f,
      -2.f,
      1.5f,
      -1.5f,
      0.899999976f,
      -0.899999976f,
      -0.100000001f,
      0.100000001f,
      -1.10000002f,
      1.10000002f,
      12.7650003f,
      -12.0450001f,
      9.99989986f,
      79228162500000000000000000000.f,
      -79228162500000000000000000000.f,
      -5871782930000000.f,
      605492757000000000000000.f,
      0.f,
      326236.344f,
      -995958.563f,
      12621621200.f,
      218218.219f,
      9.99999968E-21f,
  };
  for (size_t i = 0; i < sizeof(src) / sizeof(s21_decimal); ++i) {
    float tmp;

    int ret = s21_from_decimal_to_float(src[i], &tmp);
    if (tmp != res[i]) {
      char tmp_1[512];
      char tmp_2[512];
      sprintf(tmp_1, "%.7E", tmp);
      sprintf(tmp_2, "%.7E", res[i]);
      printf("results: %s %s\n", tmp_1, tmp_2);
      ck_assert(strcmp(tmp_1, tmp_2) == 0);
    } else {
      ck_assert_float_eq(tmp, res[i]);
      ck_assert_int_eq(ret, 0);
    }
  }
}
END_TEST

START_TEST(test_add) {
  static s21_decimal num1[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000019, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000183, 0x00000000, 0x00000000, 0x00020000}},
      {{0x14490831, 0x00048E23, 0x00000000, 0x00070000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x77D5E3AA, 0x0000011C, 0x00000000, 0x00060000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x000F4240, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x80000000, 0x80000000, 0x80000000, 0x00000000}},
      {{0x1422CF6C, 0x000001FC, 0x00000000, 0x80030000}},
      {{0x2564B1EA, 0x3927F1F3, 0x041C50D7, 0x000B0000}},
      {{0x0001869F, 0x00000000, 0x00000000, 0x00050000}},
      {{0x0098967E, 0x00000000, 0x00000000, 0x80060000}},
      {{0x000000CF, 0x00000000, 0x00000000, 0x00010000}},
      {{0x000035A3, 0x00000000, 0x00000000, 0x00170000}},
  };
  static s21_decimal num2[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000064, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00004DA6, 0x00000000, 0x00000000, 0x00020000}},
      {{0x164214B7, 0x00000028, 0x00000000, 0x00040000}},
      {{0x00000019, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00212155, 0x00000000, 0x00000000, 0x00070000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x000186A0, 0x00000000, 0x00000000, 0x00140000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x001C0000}},
      {{0xF96C01C5, 0x0007B6B6, 0x00000000, 0x800B0000}},

      {{0x00033F4A, 0x00000000, 0x00000000, 0x000C0000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00050000}},
      {{0x00000002, 0x00000000, 0x00000000, 0x80060000}},
      {{0x00003F86, 0x00000000, 0x00000000, 0x00160000}},
      {{0x0001F8A8, 0x00000000, 0x00000000, 0x00030000}},
  };

  static s21_decimal res[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000401, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00004F29, 0x00000000, 0x00000000, 0x00020000}},
      {{0x0669F309, 0x00052ABA, 0x00000000, 0x00070000}},
      {{0x00000023, 0x00000000, 0x00000000, 0x00010000}},
      {{0xAE7C05F9, 0x00000B1C, 0x00000000, 0x00070000}},
      {{0x00000002, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x4E81E240, 0x00000918, 0x00000000, 0x001C0000}},
      {{0x80000000, 0x80000000, 0x80000000, 0x00000000}},
      {{0x3015EDC5, 0xD46A37C7, 0x0000000B, 0x800B0000}},
      {{0x75F2326E, 0x3B8F737F, 0x291B2868, 0x000C0000}},
      {{0x000186A0, 0x00000000, 0x00000000, 0x00050000}},
      {{0x00989680, 0x00000000, 0x00000000, 0x80060000}},
      {{0x03603F86, 0x7E1382FF, 0x00002BD5, 0x00160000}},
      {{0x828035A3, 0x3C3F28D0, 0x000AAFBF, 0x00170000}},
  };

  for (size_t i = 0; i < sizeof(num1) / sizeof(s21_decimal); ++i) {
    s21_decimal tmp;
    s21_set_decimal_to_zero(&tmp);
    int ret = s21_add(num1[i], num2[i], &tmp);
    ck_assert_int_eq(tmp.bits[0], res[i].bits[0]);
    ck_assert_int_eq(tmp.bits[1], res[i].bits[1]);
    ck_assert_int_eq(tmp.bits[2], res[i].bits[2]);
    ck_assert_int_eq(tmp.bits[3], res[i].bits[3]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_sub) {
  static s21_decimal num1[] = {
      {{0x00000019, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x800E0000}},
      {{0x00000019, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000183, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00000000}},
      {{0x80000000, 0x80000000, 0x80000000, 0x801C0000}},
      {{0x80000000, 0x80000000, 0x80000000, 0x000E0000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x000F4240, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x0707E3C5, 0x002D8D61, 0x00000000, 0x80090000}},
      {{0x846A4B4C, 0x0000012A, 0x00000000, 0x00080000}},
      {{0x000035A3, 0x00000000, 0x00000000, 0x00170000}},
      {{0xFFFFFFFD, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0xFFFFFFFD, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0xFFFFFFFD, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0x25D10992, 0xC0F1C9E2, 0x00000075, 0x000D0000}},
      {{0x10C2F579, 0x00000000, 0x00000000, 0x80050000}},
      {{0x00000190, 0x00000000, 0x00000000, 0x80000000}},
  };
  static s21_decimal num2[] = {
      {{0x00000019, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000006, 0x00000000, 0x00000000, 0x000F0000}},
      {{0x00000064, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00004DA6, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000019, 0x00000000, 0x00000000, 0x00010000}},
      {{0x80000000, 0x80000000, 0x80000000, 0x801C0000}},
      {{0x80000000, 0x80000000, 0x80000000, 0x000E0000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x000186A0, 0x00000000, 0x00000000, 0x00140000}},
      {{0x058FEC8A, 0x00000000, 0x00000000, 0x00050000}},
      {{0x0081787B, 0x00000000, 0x00000000, 0x80080000}},
      {{0x0001F8A8, 0x00000000, 0x00000000, 0x00030000}},
      {{0x00000005, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000033, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000031, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000005, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000033, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000031, 0x00000000, 0x00000000, 0x00020000}},
      {{0x2B1BA438, 0x0022C51B, 0x00000000, 0x00060000}},
      {{0x10C44951, 0x00000000, 0x00000000, 0x80030000}},
      {{0x00000190, 0x00000000, 0x00000000, 0x80000000}},
  };

  static s21_decimal res[] = {
      {{0x00000000, 0x00000000, 0x00000000, 0x00010000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000010, 0x00000000, 0x00000000, 0x800F0000}},
      {{0x000003CF, 0x00000000, 0x00000000, 0x80010000}},
      {{0x00004C23, 0x00000000, 0x00000000, 0x80020000}},
      {{0x0000000F, 0x00000000, 0x00000000, 0x80010000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x000E0000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x001C0000}},
      {{0x4E635DC0, 0x00000918, 0x00000000, 0x801C0000}},
      {{0x4D0FB265, 0x002D8E3A, 0x00000000, 0x80090000}},
      {{0x84EBC3C7, 0x0000012A, 0x00000000, 0x00080000}},
      {{0x827FCA5D, 0x3C3F28D0, 0x000AAFBF, 0x80170000}},
      {{0xFFFFFFFD, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0xFFFFFFFD, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0xFFFFFFFD, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}},
      {{0x1B79E26E, 0xB810475F, 0x00001443, 0x800D0000}},
      {{0x7BE9AE2B, 0x00000006, 0x00000000, 0x00050000}},
      {{0x00000000, 0x00000000, 0x00000000, 0x00000000}},
  };

  for (size_t i = 0; i < sizeof(num1) / sizeof(s21_decimal); ++i) {
    s21_decimal tmp;
    s21_set_decimal_to_zero(&tmp);
    int ret = s21_sub(num1[i], num2[i], &tmp);
    ck_assert_int_eq(tmp.bits[0], res[i].bits[0]);
    ck_assert_int_eq(tmp.bits[1], res[i].bits[1]);
    ck_assert_int_eq(tmp.bits[2], res[i].bits[2]);
    ck_assert_int_eq(tmp.bits[3], res[i].bits[3]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_mul) {
  static s21_decimal num1[] = {
      {{0x0F756415, 0x486BEEBB, 0x00000000, 0x000F0000}},
      {{0x2296D8D2, 0x09BF56C2, 0x00000000, 0x00090000}},
      {{0x64994FA7, 0x6668CAB7, 0x00000000, 0x80140000}},
      {{0x82508A73, 0xFA0363EB, 0x00000000, 0x00080000}},
      {{0x8F1422E6, 0x6C0CBEE1, 0x00000000, 0x80080000}},
      {{0xDC6B659A, 0x9D6ECD4F, 0x00000000, 0x001A0000}},
      {{0xA6EFC349, 0xC5458F4F, 0x00000000, 0x80090000}},

      {{0x686358F9, 0x49ED6B7B, 0x00000000, 0x000A0000}},
      {{0xB4797D5A, 0x5E83A909, 0x00000000, 0x00080000}},
      {{0x919EC265, 0x000824B7, 0x00000000, 0x000C0000}},
      {{0x00000000, 0x00000000, 0x00000001, 0x000C0000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0x00000000, 0x800E0000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000E0000}},
      {{0x10B69765, 0xD35FC2AA, 0x00000000, 0x80000000}},
      {{0x3D63F4EA, 0x48D80BF2, 0x1AB5388A, 0x00120000}},
      {{0x761189C7, 0x40B595A1, 0x00000000, 0x80010000}},
      {{0x51922653, 0xA48EE14C, 0xB3EE966B, 0x801A0000}},
      {{0x0E865C49, 0x00000000, 0x00000000, 0x80130000}},
      {{0x747E9848, 0xB5B98F6A, 0x4BAAAFC9, 0x000B0000}},
      {{0x3E744595, 0x00000000, 0x00000000, 0x00000000}},
      {{0x7B55D0BC, 0xEF08AAB8, 0x7BAB8D43, 0x80140000}},
      {{0x6ECDD14F, 0x00000000, 0x00000000, 0x00040000}},
      {{0xF231F1E7, 0xA3E7B817, 0x00000000, 0x00180000}},
      {{0xBE6F9503, 0x00000000, 0x00000000, 0x00030000}},

      {{0xFFA80C94, 0xFF998DA2, 0x00000000, 0x00070000}},

      {{0x400CB99F, 0x00000000, 0x00000000, 0x00080000}},
      {{0x052B71CE, 0xC7ADCC7E, 0x00000000, 0x00010000}},
      {{0x9366507D, 0xC71A96E5, 0x35F2E6BE, 0x00060000}},
      {{0xB37AC9E2, 0x00000000, 0x00000000, 0x800C0000}},
      {{0xB10F71A9, 0x00000000, 0x00000000, 0x80100000}},
      {{0x6D5454D0, 0x193339DD, 0x0D5F5AD5, 0x001A0000}},
      {{0xD2B07731, 0x00000000, 0x00000000, 0x800C0000}},
      {{0xB7FE8CE7, 0x2EA09046, 0x00000000, 0x80190000}},

      {{0xE8148EC5, 0x00000000, 0x00000000, 0x00110000}},

      {{0xB82539D1, 0x4B91D374, 0x0A852009, 0x00190000}},
      {{0xEC5A62E9, 0x21E23EB5, 0x00000000, 0x800D0000}},
      {{0xBC3DD758, 0x2C50D3DF, 0x00000000, 0x80040000}},
      {{0x9F2FCFDA, 0x6C270FD1, 0x34AB69B0, 0x00190000}},
      {{0x00000000, 0x00000000, 0x00000001, 0x800E0000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0x00000000, 0x00070000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80170000}},
      {{0x0F0FF29F, 0x535D7C02, 0x73AA0A2B, 0x00170000}},
      {{0x3F76C1D7, 0x00000000, 0x00000000, 0x80090000}},
      {{0x8DECD279, 0x00000000, 0x00000000, 0x001B0000}},
      {{0xF4E2B726, 0x00000000, 0x00000000, 0x00070000}},
      {{0xF0E8AF34, 0x0CDC9C68, 0x00000000, 0x000D0000}},
      {{0x4A1D6CC7, 0x00000000, 0x00000000, 0x800B0000}},
      {{0x362B1FE9, 0x0FC90394, 0x00000000, 0x00080000}},
      {{0x9C717CD3, 0x85631301, 0xEABA07D0, 0x00070000}},
      {{0x5166C981, 0x00000000, 0x00000000, 0x00070000}},
      {{0x795C571D, 0xC4F9426C, 0x00000000, 0x800B0000}},
      {{0xF215C07B, 0xB26C8EA9, 0x8B49A0AF, 0x801B0000}},
      {{0xB99B0AC0, 0x00000000, 0x00000000, 0x800C0000}},

      {{0x272D3464, 0x00000000, 0x00000000, 0x800C0000}},
      {{0x11EFB0F5, 0x00000000, 0x00000000, 0x000F0000}},
      {{0x09D6CF89, 0xED96CB6B, 0x00000000, 0x00010000}},
      {{0xE7C3CA52, 0x18F79690, 0x0D920D79, 0x00030000}},
      {{0x10DB10E1, 0x00000000, 0x00000000, 0x80150000}},

      {{0x642C3A04, 0x00000000, 0x00000000, 0x000B0000}},

      {{0x9D073770, 0xBA1D4014, 0x7BBE254F, 0x80120000}},
      {{0xC9F85BF2, 0xF842BE2B, 0x00000000, 0x00120000}},
  };
  static s21_decimal num2[] = {
      {{0x12112D87, 0x0ECFCD04, 0x00000000, 0x80070000}},
      {{0x934017E2, 0xFD5E83B0, 0x00000000, 0x00130000}},
      {{0x944C3513, 0xC80B61CF, 0x00000000, 0x00070000}},
      {{0x2B68FF20, 0x6CA9F127, 0x00000000, 0x000C0000}},
      {{0xD9D543ED, 0xD186532C, 0x00000000, 0x000F0000}},
      {{0xCBE49CCE, 0xF9378D4F, 0x00000000, 0x80060000}},
      {{0xAA917E4C, 0x15684E8F, 0x00000000, 0x800D0000}},

      {{0xD539B200, 0xE86F5F0A, 0x00000000, 0x800C0000}},
      {{0xC6969B62, 0xB4619C83, 0x00000000, 0x000B0000}},
      {{0x6652AAA9, 0x00011DB1, 0x00000000, 0x80100000}},
      {{0x00000000, 0x00000000, 0x00000001, 0x800E0000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0x00000000, 0x00070000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80170000}},
      {{0xC30D4632, 0x8D349C98, 0x00000000, 0x80130000}},
      {{0x1A508A19, 0x83168F0E, 0x4BC91053, 0x800B0000}},
      {{0x6CEB6ABF, 0xB07E3FB2, 0x00000000, 0x001B0000}},
      {{0x0F0FF29F, 0x535D7C02, 0x73AA0A2B, 0x00170000}},
      {{0x3F76C1D7, 0x00000000, 0x00000000, 0x80090000}},
      {{0x5A90CC18, 0x3AC80DB9, 0x0252A135, 0x80120000}},
      {{0x8DECD279, 0x00000000, 0x00000000, 0x001B0000}},
      {{0x73C43940, 0x90855E18, 0xD076BD99, 0x800C0000}},
      {{0xF4E2B726, 0x00000000, 0x00000000, 0x00070000}},
      {{0xF0E8AF34, 0x0CDC9C68, 0x00000000, 0x000D0000}},
      {{0x4A1D6CC7, 0x00000000, 0x00000000, 0x800B0000}},
      {{0x362B1FE9, 0x0FC90394, 0x00000000, 0x00080000}},

      {{0x5166C981, 0x00000000, 0x00000000, 0x00070000}},
      {{0x795C571D, 0xC4F9426C, 0x00000000, 0x800B0000}},
      {{0xF215C07B, 0xB26C8EA9, 0x8B49A0AF, 0x801B0000}},
      {{0xB99B0AC0, 0x00000000, 0x00000000, 0x800C0000}},
      {{0x272D3464, 0x00000000, 0x00000000, 0x800C0000}},
      {{0x18CF46E2, 0xF945BDFC, 0x5FD5B5BB, 0x80180000}},
      {{0x11EFB0F5, 0x00000000, 0x00000000, 0x000F0000}},
      {{0xE57FE54F, 0x3D53B237, 0x00000000, 0x000B0000}},

      {{0x642C3A04, 0x00000000, 0x00000000, 0x000B0000}},

      {{0xED141CDB, 0x21FF37AE, 0xA85C036F, 0x80070000}},
      {{0x9A1F4D7E, 0x08385389, 0x00000000, 0x800A0000}},
      {{0xC9F85BF2, 0xF842BE2B, 0x00000000, 0x00120000}},
      {{0xD0424042, 0x3B2A8A5A, 0x46EA43A1, 0x00110000}},
      {{0x0F0FF29F, 0x535D7C02, 0x73AA0A2B, 0x00170000}},
      {{0x3F76C1D7, 0x00000000, 0x00000000, 0x80090000}},
      {{0x868251FB, 0xFF7FA304, 0x00000000, 0x00180000}},
      {{0xF0E8AF34, 0x0CDC9C68, 0x00000000, 0x000D0000}},
      {{0xAE43BEE1, 0x10BF1BF0, 0x94FA0B68, 0x80140000}},
      {{0x9C717CD3, 0x85631301, 0xEABA07D0, 0x00070000}},
      {{0xF215C07B, 0xB26C8EA9, 0x8B49A0AF, 0x801B0000}},
      {{0xB99B0AC0, 0x00000000, 0x00000000, 0x800C0000}},
      {{0x20A1FE48, 0xCE224A0B, 0x66F78459, 0x00030000}},
      {{0x272D3464, 0x00000000, 0x00000000, 0x800C0000}},
      {{0xCF8C4BD3, 0x6E816837, 0x00000000, 0x00190000}},
      {{0x18CF46E2, 0xF945BDFC, 0x5FD5B5BB, 0x80180000}},
      {{0x11EFB0F5, 0x00000000, 0x00000000, 0x000F0000}},
      {{0x09D6CF89, 0xED96CB6B, 0x00000000, 0x00010000}},
      {{0xE7C3CA52, 0x18F79690, 0x0D920D79, 0x00030000}},

      {{0x42860150, 0x65E3DE5B, 0x73149C8E, 0x00000000}},
      {{0xA5519D83, 0x17C96050, 0xFEB8A8D0, 0x80010000}},
      {{0xE32D7641, 0x00000000, 0x00000000, 0x000F0000}},
      {{0xA2BC4994, 0x69F8C099, 0x00000000, 0x00130000}},
      {{0xED141CDB, 0x21FF37AE, 0xA85C036F, 0x80070000}},

      {{0x9D073770, 0xBA1D4014, 0x7BBE254F, 0x80120000}},

      {{0x00000000, 0x00000000, 0x00000001, 0x000C0000}},
      {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000E0000}},
  };

  static s21_decimal res[] = {
      {{0x72264E9A, 0x0B5488AD, 0xB3F7A1DC, 0x800E0000}},
      {{0x5532E6FB, 0xF6A62202, 0x296F42C4, 0x00130000}},
      {{0xDFC5C0F6, 0x544F79AA, 0x225ED9E8, 0x80110000}},
      {{0x692116A1, 0xD6C1CBF7, 0x2D944F01, 0x000A0000}},
      {{0x63B0BB99, 0x09F02946, 0x25FB6B60, 0x800D0000}},
      {{0xAEC5242A, 0x92E830FC, 0x41D346BE, 0x80160000}},
      {{0x13BEFE41, 0xCD6D490A, 0x46DA022C, 0x000D0000}},

      {{0xBCD5FD07, 0xF480D7E8, 0x1CD42E63, 0x800C0000}},
      {{0x88B20BEF, 0x8DF636B3, 0x1C9A52A6, 0x00090000}},
      {{0x01B98A44, 0x936049E7, 0xE8A6E687, 0x801B0000}},
      {{0x5AB9A207, 0x5EF6EADF, 0x6DF37F67, 0x80100000}},
      {{0x7ED2A338, 0x5EF6EADE, 0x6DF37F67, 0x800B0000}},
      {{0x096EE456, 0x359A3B3E, 0xCAD2F7F5, 0x80080000}},
      {{0x6A7CCF18, 0x2067A9D8, 0x32134487, 0x00090000}},
      {{0x8D144CB4, 0xDDE18D4C, 0x3EA452C8, 0x80010000}},
      {{0xF1F481E9, 0x1BD107B7, 0xBF9BC0E8, 0x80130000}},
      {{0x87ACC18B, 0xCC54C70A, 0x4068B89E, 0x80140000}},
      {{0xFF108A4F, 0x0399CDA3, 0x00000000, 0x001C0000}},
      {{0xDBC24E17, 0xE81DD4D7, 0x3664DFCA, 0x80020000}},
      {{0x1C651D6D, 0x229FD0DC, 0x00000000, 0x001B0000}},
      {{0x8F318600, 0xF8897935, 0x4FC99CDF, 0x00030000}},
      {{0xA6EA8ABA, 0x69FE4C77, 0x00000000, 0x000B0000}},
      {{0x29C0623E, 0xF3E5FDF4, 0x235E425C, 0x001C0000}},
      {{0xDAF11955, 0x372224A1, 0x00000000, 0x800E0000}},
      {{0xD113E0DB, 0x2B19CB8E, 0x43B0E448, 0x00060000}},

      {{0x8881601F, 0x145DBE37, 0x00000000, 0x000F0000}},
      {{0x661F17A6, 0x25353658, 0x41FCBE9F, 0x80020000}},
      {{0x036B1D1D, 0xEA827CFB, 0xE88F3DE9, 0x80050000}},
      {{0xF5D03D80, 0x82206EC5, 0x00000000, 0x00180000}},
      {{0x06D3BA04, 0x1B189E44, 0x00000000, 0x001C0000}},
      {{0x3BC9AD2D, 0xCFDB461D, 0x27A97A21, 0x80160000}},
      {{0x7C92C1E5, 0x0EC2FC4C, 0x00000000, 0x801B0000}},
      {{0xF147B9D7, 0x633098C6, 0x2FF97959, 0x801B0000}},

      {{0xC686DD14, 0x5AD01FE5, 0x00000000, 0x001C0000}},

      {{0x052E27C9, 0x58ED6A90, 0x36D073F0, 0x80040000}},
      {{0xD6E8D080, 0xF34CC818, 0x2EBA9362, 0x000F0000}},
      {{0x01493056, 0x743B2795, 0xB8949C10, 0x800D0000}},
      {{0x419EC9D4, 0x030C320E, 0x7398429A, 0x000E0000}},
      {{0xDE235BD1, 0x2AC7A3AF, 0xD55CE1EA, 0x80120000}},
      {{0xC0893E29, 0xFFFFFFFF, 0x3F76C1D6, 0x80100000}},
      {{0xEE3AE990, 0x20A3ED83, 0x2F219451, 0x801B0000}},
      {{0x783332E9, 0xDA48084C, 0x6B3237B3, 0x00120000}},
      {{0x08B4026E, 0x0AEFA171, 0x9E9F6305, 0x00140000}},
      {{0x675A0F45, 0x8D94D004, 0x37E41590, 0x00180000}},
      {{0xA0C2907F, 0xC8D88543, 0x3939EE89, 0x80180000}},
      {{0x6DD76F00, 0xCD336B9C, 0x09533724, 0x80190000}},
      {{0xC8E38A51, 0xBC8D64C3, 0x80088A58, 0x80050000}},
      {{0x0648CB04, 0x348D9857, 0x026A691C, 0x80140000}},
      {{0x670AB464, 0xD80251E8, 0xBAE84018, 0x000D0000}},
      {{0x91DE2EBD, 0x7C1D5A06, 0x82E175F3, 0x80160000}},
      {{0xE2564EC1, 0x178B943D, 0x0DCCFA46, 0x801A0000}},
      {{0x03F2A323, 0x33CE4E7C, 0xEE76323D, 0x80090000}},
      {{0xDA6FFAA1, 0xF394B59A, 0x2A4202F5, 0x80060000}},

      {{0x473D9EF5, 0xAB967259, 0x4BA3B154, 0x80030000}},
      {{0x01667CAE, 0x54BAE451, 0x4CA6A8F7, 0x80070000}},
      {{0x7948D7C9, 0x8097317F, 0xD2D6E7A1, 0x00100000}},
      {{0x31139676, 0xF671763F, 0x67A01769, 0x00040000}},
      {{0x862227D9, 0x0A38554C, 0x2F9C588F, 0x00130000}},

      {{0x5FA845CE, 0xA2706F56, 0xCFF6ED2B, 0x80140000}},
      {{0x408B7D3A, 0x339ADB40, 0xE443DD5F, 0x800B0000}},
      {{0x1CA62646, 0xF8CA1746, 0x2DCBC7DF, 0x000C0000}},
  };

  for (size_t i = 0; i < sizeof(num1) / sizeof(s21_decimal); ++i) {
    s21_decimal tmp;
    s21_set_decimal_to_zero(&tmp);
    int ret = s21_mul(num1[i], num2[i], &tmp);
    ck_assert_int_eq(tmp.bits[0], res[i].bits[0]);
    ck_assert_int_eq(tmp.bits[1], res[i].bits[1]);
    ck_assert_int_eq(tmp.bits[2], res[i].bits[2]);
    ck_assert_int_eq(tmp.bits[3], res[i].bits[3]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

START_TEST(test_div) {
  static s21_decimal num1[] = {
      {{0x00000009, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000023, 0x00000000, 0x00000000, 0x00010000}},
      {{0x0000000A, 0x00000000, 0x00000000, 0x80000000}},
      {{0x0000000A, 0x00000000, 0x00000000, 0x00000000}}};
  static s21_decimal num2[] = {
      {{0x00000003, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000005, 0x00000000, 0x00000000, 0x00020000}},
      {{0x00000008, 0x00000000, 0x00000000, 0x80020000}},
      {{0x00000001, 0x00000000, 0x00000000, 0x00020000}}};

  static s21_decimal res[] = {
      {{0x00000003, 0x00000000, 0x00000000, 0x00000000}},
      {{0x00000046, 0x00000000, 0x00000000, 0x00000000}},
      {{0x0000007D, 0x00000000, 0x00000000, 0x00000000}},
      {{0x000003E8, 0x00000000, 0x00000000, 0x00000000}}};

  for (size_t i = 0; i < sizeof(num1) / sizeof(s21_decimal); ++i) {
    s21_decimal tmp;
    s21_set_decimal_to_zero(&tmp);
    int ret = s21_div(num1[i], num2[i], &tmp);
    ck_assert_int_eq(tmp.bits[0], res[i].bits[0]);
    ck_assert_int_eq(tmp.bits[1], res[i].bits[1]);
    ck_assert_int_eq(tmp.bits[2], res[i].bits[2]);
    ck_assert_int_eq(tmp.bits[3], res[i].bits[3]);
    ck_assert_int_eq(ret, 0);
  }
}
END_TEST

Suite *another_suite(void) {
  Suite *s;
  TCase *tc_core;
  s = suite_create("another");

  tc_core = tcase_create("core");
  tcase_add_test(tc_core, test_negate);
  tcase_add_test(tc_core, test_truncate);
  tcase_add_test(tc_core, test_floor);
  tcase_add_test(tc_core, test_round);
  suite_add_tcase(s, tc_core);

  return s;
}

Suite *comparison_suite(void) {
  Suite *s;
  TCase *tc_core;
  s = suite_create("comparison");

  tc_core = tcase_create("core");
  tcase_add_test(tc_core, test_is_equal_true);
  tcase_add_test(tc_core, test_is_equal_false);
  tcase_add_test(tc_core, test_is_not_equal_true);
  tcase_add_test(tc_core, test_is_not_equal_false);
  tcase_add_test(tc_core, test_is_less_true);
  tcase_add_test(tc_core, test_is_less_false);
  tcase_add_test(tc_core, test_is_less_or_equal_true);
  tcase_add_test(tc_core, test_is_less_or_equal_false);
  tcase_add_test(tc_core, test_is_greater_true);
  tcase_add_test(tc_core, test_is_greater_false);
  tcase_add_test(tc_core, test_is_greater_or_equal_true);
  tcase_add_test(tc_core, test_is_greater_or_equal_false);
  suite_add_tcase(s, tc_core);

  return s;
}

Suite *conversions_suite(void) {
  Suite *s;
  TCase *tc_core;
  s = suite_create("conversions");

  tc_core = tcase_create("core");
  tcase_add_test(tc_core, test_int_to_decimal);
  tcase_add_test(tc_core, test_decimal_to_int_success);
  tcase_add_test(tc_core, test_decimal_to_int_fail);
  tcase_add_test(tc_core, test_float_to_decimal_success);
  tcase_add_test(tc_core, error_test);
  tcase_add_test(tc_core, test_decimal_to_float);
  suite_add_tcase(s, tc_core);

  return s;
}

Suite *arithmetics_suite(void) {
  Suite *s;
  TCase *tc_core;
  s = suite_create("arithmetics");

  tc_core = tcase_create("core");
  tcase_add_test(tc_core, test_add);
  tcase_add_test(tc_core, test_sub);
  tcase_add_test(tc_core, test_mul);
  tcase_add_test(tc_core, test_div);
  suite_add_tcase(s, tc_core);

  return s;
}

int main(void) {
  int no_failed = 0;
  Suite *s;
  SRunner *runner;

  typedef Suite *(*func)(void);
  func funcs[NUMBER_OF_FUNCS] = {&another_suite, &conversions_suite,
                                 &comparison_suite, &arithmetics_suite};

  for (int i = 0; i < NUMBER_OF_FUNCS; i++) {
    s = funcs[i]();
    runner = srunner_create(s);
    srunner_run_all(runner, CK_NORMAL);
    no_failed += srunner_ntests_failed(runner);
    srunner_free(runner);
  }
  return (no_failed == 0) ? EXIT_SUCCESS : EXIT_FAILURE;
}
